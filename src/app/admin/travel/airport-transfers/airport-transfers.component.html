<div class="top-filter">
  <label>
    From
    <app-date-picker
      [placeholder]="'Departure Date'"
      (selectedDateChange)="setDateFilter('departureTime', 'after', $event)"
    ></app-date-picker>
  </label>

  <label>
    To
    <app-date-picker
      [placeholder]="'Departure Date'"
      (selectedDateChange)="setDateFilter('departureTime', 'before', $event)"
    ></app-date-picker>
  </label>

  <label>
    Department
    <app-custom-dropdown
      [dropdownItems]="departmentsRequest"
      (handleSelected)="departmentSelected($event)"
    ></app-custom-dropdown>
  </label>
  <label>
    Location
    <input type="text" class="input-style" placeholder="Travel Ops" />
  </label>
</div>

<div *ngIf="!tripRequests.length">
  <app-empty-page [text]="'No trips yet.'"></app-empty-page>
  <div class="bottom-image"></div>
</div>

<div class="trip-itinerary-table">
  <div *ngIf="tripRequests.length">
    <div class="buttons-wrapper flex">
      <button class="search-wrapper" aria-label="Search Trips"></button>
      <button
        class="upload-wrapper flex-right"
        aria-label="upload Trips"
      ></button>
    </div>

    <div class="custom-table">
    <mat-grid-list cols="9" rowHeight="2:1" class="trip-table-head table-header-hover">
      <mat-grid-tile tabindex="0" class="cell-align">Requested On</mat-grid-tile>
      <mat-grid-tile tabindex="0" class="cell-align">Departing On</mat-grid-tile>
      <mat-grid-tile tabindex="0" class="cell-align">Pickup</mat-grid-tile>
      <mat-grid-tile tabindex="0" class="cell-align">Destination</mat-grid-tile>
      <mat-grid-tile tabindex="0" class="cell-align">Requested-By</mat-grid-tile>
      <mat-grid-tile tabindex="0" class="cell-align">Flight Number</mat-grid-tile>
      <mat-grid-tile tabindex="0" class="cell-align">Department</mat-grid-tile>
      <mat-grid-tile tabindex="0" class="cell-align">Rider</mat-grid-tile>
      <mat-grid-tile tabindex="0" class="cell-align"><span class="trip-itinerary-approved">Approved/ Confirmed</span></mat-grid-tile>
    </mat-grid-list>

    <mat-grid-list
      *ngFor="let trip of tripRequests"
      cols="9"
      rowHeight="2:1"
      class="trip-table-body table-row-item"
    >
      <mat-grid-tile tabindex="0" class="cell-align">
        <div class="time">
          <span>{{ trip.requestedOn | date: 'shortTime' }}</span>
          <span>
            <span>{{ trip.requestedOn | date: 'dd-MM-yy' }}</span>
          </span>
        </div>
      </mat-grid-tile>
      <mat-grid-tile tabindex="0" class="cell-align">
        <div class="time cell-align">
          <span>{{ trip.departureTime | date: 'shortTime' }}</span>
          <span>
            <span>{{ trip.departureTime | date: 'dd-MM-yy' }}</span>
          </span>
        </div>
      </mat-grid-tile>
      <mat-grid-tile tabindex="0"><p class="cell-align">{{ trip.pickup }}</p></mat-grid-tile>
      <mat-grid-tile tabindex="0"><p class="cell-align">{{ trip.destination }}</p></mat-grid-tile>
      <mat-grid-tile tabindex="0"><p class="cell-align">{{trip.requester.name | shortenName: { max: 10 }
      }}</p></mat-grid-tile>
      <mat-grid-tile tabindex="0"><p class="cell-align">{{ trip.flightNumber }}</p></mat-grid-tile>
      <mat-grid-tile tabindex="0"><p class="cell-align">{{ trip.department }}</p></mat-grid-tile>
      <mat-grid-tile tabindex="0"><p class="cell-align">{{
        trip.rider.name | shortenName: { max: 10 }
      }}</p></mat-grid-tile>
      <mat-grid-tile tabindex="0"><p class="cell-align">
        {{ trip.approvedBy.name | shortenName: { max: 10 } }}
        &nbsp;/&nbsp;
        {{ trip.confirmedBy.name | shortenName: { max: 10 } }}</p></mat-grid-tile
      >
    </mat-grid-list>
    </div>

    <div class="pagination">
      <app-pagination
        *ngIf="totalItems > pageSize"
        [totalItems]="totalItems"
        (pageChange)="updatePage($event)"
        [pageSize]="pageSize"
      >
      </app-pagination>
    </div>
  </div>
</div>
